This library allows the User to handle Holding Registers in Modbus Communication Protocol as a slave in STM32 family.
Please note that it handles only function codes 0x03, 0x06 and 0x10, coils and input registers are excluded (feel free to integrate, I have no use for them).

To use the lib, download MB_comm.h and MB_comm.c, and adapt the UART and the timer to your needs.
In MB_comm.h you have to set 
MB_ID --> with the ID of your slave device
BUFFER_SIZE --> with the max length of the registers you need (the lib works if the registers are empty, just set the numbre of registers you'll use in total)

IMPORTANT:
main.c file is autogenerated from a configuration .ioc file, you have to add 
HAL_UART_Receive_IT(&huart1 , &rxData , 1);
before the main cycle, otherwise the UART port will not be ready to receive, and 
if(frameReady)
{
	Handle_MB_TX();
}
in the main cycle to handle the frames.
Adjust the NVIC settings in the inits based on your needs.

Enjoy!
